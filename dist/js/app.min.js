$(() => {
    let form,
        formMessages = $('#form-messages'),
        formSuccess = false;

    // If viewport is 768px and below, remove desktop .App__main
    // Simple workaround for bug of Mobile version form
    if ($(window).width() < 768) {
        $('body main.desktop__main').remove();
        form = $('.mobile__form');
    } else {
        $('body main.mobile__main').remove();
        form = $('.desktop__form');
    }

    // Form event listener
    $(form).on('submit', (e) => {
        e.preventDefault();

        // Serialize form data.
        let formData = $(form).serialize();

        // Submit form via AJAX
        $.ajax({
                type: 'POST',
                url: $(form).attr('action'),
                data: formData
            })

            // On successful request
            .done(() => {

                toastr.success('SUCCESS!');

                // Empty the form
                $('#fname', '#lname', '#gdpr', '#email').val('');

                console.log();

            })
            .fail((data) => {

                // Form message has the error class
                toastr.warning('Oops! Something went wrong');

                // Set message text
                data.responseText !== '' ? $(formMessages).text(data.responseText) : console.log('Oops! An error occured and your message could not be sent.');
            });
    });

    $("button.form__submit").on('click', () => {
        let formDataFilled = $('#fname').val().length > 0 && $('#lname').val().length > 0 && $('#email').val().length > 0 && $('#company').val().length > 0 && $('#phone').val().length > 0 && $('#gdpr').is(":checked");
        console.log("this: ", $(this));
        console.log('formDataFilled: ' + formDataFilled)
        if (formDataFilled == true) {
            formSuccess = true;
            setTimeout(() => {
                if (formSuccess === true) {
                    console.log('Form Success!');
                }
            }, 1500);
            dataLayer.push({
                'event': 'form_submission_success'
            });

        }
    });

});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xyXG4gICAgbGV0IGZvcm0sXHJcbiAgICAgICAgZm9ybU1lc3NhZ2VzID0gJCgnI2Zvcm0tbWVzc2FnZXMnKSxcclxuICAgICAgICBmb3JtU3VjY2VzcyA9IGZhbHNlO1xyXG5cclxuICAgIC8vIElmIHZpZXdwb3J0IGlzIDc2OHB4IGFuZCBiZWxvdywgcmVtb3ZlIGRlc2t0b3AgLkFwcF9fbWFpblxyXG4gICAgLy8gU2ltcGxlIHdvcmthcm91bmQgZm9yIGJ1ZyBvZiBNb2JpbGUgdmVyc2lvbiBmb3JtXHJcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcclxuICAgICAgICAkKCdib2R5IG1haW4uZGVza3RvcF9fbWFpbicpLnJlbW92ZSgpO1xyXG4gICAgICAgIGZvcm0gPSAkKCcubW9iaWxlX19mb3JtJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJ2JvZHkgbWFpbi5tb2JpbGVfX21haW4nKS5yZW1vdmUoKTtcclxuICAgICAgICBmb3JtID0gJCgnLmRlc2t0b3BfX2Zvcm0nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGb3JtIGV2ZW50IGxpc3RlbmVyXHJcbiAgICAkKGZvcm0pLm9uKCdzdWJtaXQnLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgLy8gU2VyaWFsaXplIGZvcm0gZGF0YS5cclxuICAgICAgICBsZXQgZm9ybURhdGEgPSAkKGZvcm0pLnNlcmlhbGl6ZSgpO1xyXG5cclxuICAgICAgICAvLyBTdWJtaXQgZm9ybSB2aWEgQUpBWFxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICQoZm9ybSkuYXR0cignYWN0aW9uJyksXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLy8gT24gc3VjY2Vzc2Z1bCByZXF1ZXN0XHJcbiAgICAgICAgICAgIC5kb25lKCgpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcygnU1VDQ0VTUyEnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBFbXB0eSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJCgnI2ZuYW1lJywgJyNsbmFtZScsICcjZ2RwcicsICcjZW1haWwnKS52YWwoJycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCk7XHJcblxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmFpbCgoZGF0YSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEZvcm0gbWVzc2FnZSBoYXMgdGhlIGVycm9yIGNsYXNzXHJcbiAgICAgICAgICAgICAgICB0b2FzdHIud2FybmluZygnT29wcyEgU29tZXRoaW5nIHdlbnQgd3JvbmcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgbWVzc2FnZSB0ZXh0XHJcbiAgICAgICAgICAgICAgICBkYXRhLnJlc3BvbnNlVGV4dCAhPT0gJycgPyAkKGZvcm1NZXNzYWdlcykudGV4dChkYXRhLnJlc3BvbnNlVGV4dCkgOiBjb25zb2xlLmxvZygnT29wcyEgQW4gZXJyb3Igb2NjdXJlZCBhbmQgeW91ciBtZXNzYWdlIGNvdWxkIG5vdCBiZSBzZW50LicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoXCJidXR0b24uZm9ybV9fc3VibWl0XCIpLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBsZXQgZm9ybURhdGFGaWxsZWQgPSAkKCcjZm5hbWUnKS52YWwoKS5sZW5ndGggPiAwICYmICQoJyNsbmFtZScpLnZhbCgpLmxlbmd0aCA+IDAgJiYgJCgnI2VtYWlsJykudmFsKCkubGVuZ3RoID4gMCAmJiAkKCcjY29tcGFueScpLnZhbCgpLmxlbmd0aCA+IDAgJiYgJCgnI3Bob25lJykudmFsKCkubGVuZ3RoID4gMCAmJiAkKCcjZ2RwcicpLmlzKFwiOmNoZWNrZWRcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzOiBcIiwgJCh0aGlzKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Zvcm1EYXRhRmlsbGVkOiAnICsgZm9ybURhdGFGaWxsZWQpXHJcbiAgICAgICAgaWYgKGZvcm1EYXRhRmlsbGVkID09IHRydWUpIHtcclxuICAgICAgICAgICAgZm9ybVN1Y2Nlc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChmb3JtU3VjY2VzcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGb3JtIFN1Y2Nlc3MhJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDE1MDApO1xyXG4gICAgICAgICAgICBkYXRhTGF5ZXIucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAnZXZlbnQnOiAnZm9ybV9zdWJtaXNzaW9uX3N1Y2Nlc3MnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn0pOyJdfQ==
